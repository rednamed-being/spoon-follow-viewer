import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
export default function UserDetail({ user, channelInfo, }) {
    // channelInfoã®å†…å®¹ã‚’ãƒ‡ãƒãƒƒã‚°è¡¨ç¤º
    // eslint-disable-next-line no-console
    console.log("[UserDetail] channelInfo", channelInfo);
    const liveUrl = channelInfo?.currentLiveId
        ? `https://www.spooncast.net/jp/live/${channelInfo.currentLiveId}`
        : null;
    return (_jsxs("div", { className: "bg-white rounded-2xl shadow-xl p-6 mb-6 flex flex-col md:flex-row items-center gap-6", children: [_jsx("img", { src: user.profile_url || "/default-avatar.png", alt: user.nickname, className: "w-24 h-24 rounded-full object-cover border" }), _jsxs("div", { className: "flex-1 min-w-0", children: [_jsxs("div", { className: "flex flex-wrap items-center gap-2 mb-2", children: [_jsx("span", { className: "text-xl font-bold text-gray-800 truncate max-w-xs", title: user.nickname, children: user.nickname }), _jsxs("span", { className: "text-xs text-gray-500 truncate max-w-[120px]", title: user.tag, children: ["@", user.tag] }), user.is_verified && (_jsx("span", { className: "ml-2 px-2 py-0.5 bg-blue-100 text-blue-600 text-xs rounded-full", children: "\u8A8D\u8A3C\u6E08" })), user.is_vip && (_jsx("span", { className: "ml-2 px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs rounded-full", children: "VIP" })), liveUrl && (_jsxs("a", { href: liveUrl, target: "_blank", rel: "noopener noreferrer", className: "ml-2 px-2 py-0.5 bg-red-500 text-white text-xs rounded-full flex items-center gap-1 animate-pulse", children: [_jsx("span", { children: "LIVE\u4E2D" }), _jsx("svg", { width: "16", height: "16", fill: "currentColor", viewBox: "0 0 16 16", children: _jsx("circle", { cx: "8", cy: "8", r: "6" }) })] }))] }), _jsx("div", { className: "text-sm text-gray-600 mb-2 break-words whitespace-pre-line max-h-24 overflow-y-auto", children: user.description || (_jsx("span", { className: "text-gray-400", children: "(\u81EA\u5DF1\u7D39\u4ECB\u306A\u3057)" })) }), channelInfo?.fullChannelData?.description && channelInfo.fullChannelData.description !== user.description && (_jsxs("div", { className: "text-sm text-blue-600 mb-2 break-words whitespace-pre-line max-h-24 overflow-y-auto bg-blue-50 p-2 rounded", children: [_jsx("div", { className: "text-xs font-bold text-blue-700 mb-1", children: "\uD83D\uDCE2 \u8FFD\u52A0\u60C5\u5831:" }), channelInfo.fullChannelData.description] })), (user.description || channelInfo?.fullChannelData?.fanNotice || channelInfo?.fullChannelData?.additionalDescription) && (_jsxs("div", { className: "text-sm text-gray-700 mb-3", children: [user.description && (_jsx("p", { className: "mb-2", children: user.description })), channelInfo?.fullChannelData?.fanNotice && (_jsxs("div", { className: "bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-2", children: [_jsx("p", { className: "text-yellow-800 font-medium", children: "\uD83D\uDCE2 \u30D5\u30A1\u30F3\u901A\u77E5" }), _jsx("p", { className: "text-yellow-700", children: channelInfo.fullChannelData.fanNotice })] })), channelInfo?.fullChannelData?.additionalDescription && (_jsx("p", { className: "text-gray-600 italic", children: channelInfo.fullChannelData.additionalDescription }))] })), channelInfo?.fullChannelData?.socialLinks && channelInfo.fullChannelData.socialLinks.length > 0 && (_jsxs("div", { className: "mb-3", children: [_jsx("h4", { className: "text-sm font-medium text-gray-700 mb-2", children: "\uD83D\uDD17 \u30BD\u30FC\u30B7\u30E3\u30EB\u30EA\u30F3\u30AF" }), _jsx("div", { className: "flex flex-wrap gap-2", children: channelInfo.fullChannelData.socialLinks.map((link, index) => (_jsxs("a", { href: link.url, target: "_blank", rel: "noopener noreferrer", className: `px-3 py-1 text-xs rounded-full text-white ${link.platform === 'twitter' ? 'bg-blue-400' :
                                        link.platform === 'instagram' ? 'bg-pink-400' :
                                            link.platform === 'tiktok' ? 'bg-black' :
                                                'bg-gray-400'}`, children: [link.platform === 'twitter' && 'ðŸ¦', link.platform === 'instagram' && 'ðŸ“·', link.platform === 'tiktok' && 'ðŸŽµ', link.platform || 'Link'] }, index))) })] })), channelInfo?.fullChannelData?.topFans && channelInfo.fullChannelData.topFans.length > 0 && (_jsxs("div", { className: "mb-3", children: [_jsx("h4", { className: "text-sm font-medium text-gray-700 mb-2", children: "\uD83D\uDC51 \u30C8\u30C3\u30D7\u30D5\u30A1\u30F3" }), _jsx("div", { className: "grid grid-cols-2 sm:grid-cols-3 gap-2", children: channelInfo.fullChannelData.topFans.slice(0, 6).map((fan, index) => (_jsxs("div", { className: "flex items-center space-x-2 p-2 bg-gray-50 rounded", children: [_jsx("img", { src: fan.profileUrl || "/favicon.svg", alt: fan.nickname, className: "w-8 h-8 rounded-full object-cover", onError: (e) => {
                                                e.currentTarget.src = "/favicon.svg";
                                            } }), _jsxs("div", { className: "flex-1 min-w-0", children: [_jsx("p", { className: "text-xs font-medium text-gray-900 truncate", children: fan.nickname }), _jsxs("p", { className: "text-xs text-gray-500", children: ["\uD83E\uDD44 ", fan.spoonCount?.toLocaleString() || 0] })] }), index < 3 && (_jsx("span", { className: "text-xs", children: index === 0 ? 'ðŸ¥‡' : index === 1 ? 'ðŸ¥ˆ' : 'ðŸ¥‰' }))] }, fan.id))) })] })), channelInfo?.fullChannelData?.schedules && channelInfo.fullChannelData.schedules.length > 0 && (_jsxs("div", { className: "mb-3", children: [_jsx("h4", { className: "text-sm font-medium text-gray-700 mb-2", children: "\uD83D\uDCC5 \u914D\u4FE1\u30B9\u30B1\u30B8\u30E5\u30FC\u30EB" }), _jsx("div", { className: "space-y-2", children: channelInfo.fullChannelData.schedules.slice(0, 3).map((schedule, index) => (_jsxs("div", { className: "flex items-center space-x-3 p-2 bg-blue-50 rounded", children: [_jsx("div", { className: "text-blue-600", children: "\uD83D\uDCFA" }), _jsxs("div", { className: "flex-1", children: [_jsx("p", { className: "text-sm font-medium text-gray-900", children: schedule.title }), _jsx("p", { className: "text-xs text-gray-500", children: new Date(schedule.date).toLocaleDateString('ja-JP', {
                                                        month: 'short',
                                                        day: 'numeric',
                                                        hour: '2-digit',
                                                        minute: '2-digit'
                                                    }) })] })] }, index))) })] })), channelInfo?.fullChannelData?.recentPosts && channelInfo.fullChannelData.recentPosts.length > 0 && (_jsxs("div", { className: "mb-3", children: [_jsx("h4", { className: "text-sm font-medium text-gray-700 mb-2", children: "\uFFFD \u6700\u8FD1\u306E\u6295\u7A3F" }), _jsx("div", { className: "space-y-2", children: channelInfo.fullChannelData.recentPosts.slice(0, 2).map((post, index) => (_jsxs("div", { className: "p-3 bg-gray-50 rounded", children: [post.mediaUrl && (_jsx("img", { src: post.mediaUrl, alt: "\u6295\u7A3F\u753B\u50CF", className: "w-full h-32 object-cover rounded mb-2", onError: (e) => {
                                                e.currentTarget.style.display = 'none';
                                            } })), _jsx("p", { className: "text-sm text-gray-800 mb-1", children: post.content }), _jsxs("div", { className: "flex items-center space-x-3 text-xs text-gray-500", children: [_jsxs("span", { children: ["\u2764\uFE0F ", post.likeCount?.toLocaleString() || 0] }), _jsxs("span", { children: ["\uD83D\uDCAC ", post.commentCount?.toLocaleString() || 0] }), _jsx("span", { children: new Date(post.createdAt).toLocaleDateString('ja-JP') })] })] }, post.id))) })] })), _jsxs("div", { className: "flex flex-wrap gap-4 text-xs text-gray-500 mb-2", children: [_jsxs("span", { children: ["\u30D5\u30A9\u30ED\u30EF\u30FC:", " ", _jsx("b", { className: "text-red-500", children: channelInfo?.fullChannelData?.followerCount?.toLocaleString() || user.follower_count.toLocaleString() })] }), _jsxs("span", { children: ["\u30D5\u30A9\u30ED\u30FC:", " ", _jsx("b", { className: "text-teal-500", children: user.following_count.toLocaleString() })] }), channelInfo?.fullChannelData?.subscriberCount && channelInfo.fullChannelData.subscriberCount > 0 && (_jsxs("span", { children: ["\u30B5\u30D6\u30B9\u30AF:", " ", _jsx("b", { className: "text-purple-500", children: channelInfo.fullChannelData.subscriberCount.toLocaleString() })] })), _jsxs("span", { children: ["\u56FD: ", user.country || "-"] }), _jsxs("span", { children: ["\u767B\u9332\u65E5: ", user.date_joined ? user.date_joined.slice(0, 10) : "-"] })] }), (channelInfo?.fullChannelData?.membership || channelInfo?.fullChannelData?.tier) && (_jsx("div", { className: "mb-3", children: _jsxs("div", { className: "flex flex-wrap gap-2", children: [channelInfo.fullChannelData.membership?.grade && (_jsxs("span", { className: `px-2 py-1 text-xs rounded-full ${channelInfo.fullChannelData.membership.grade === 'PREMIUM'
                                        ? 'bg-purple-100 text-purple-700'
                                        : 'bg-blue-100 text-blue-700'}`, children: ["\uD83D\uDC8E ", channelInfo.fullChannelData.membership.grade] })), channelInfo.fullChannelData.tier && (_jsxs("span", { className: "px-2 py-1 text-xs rounded-full bg-orange-100 text-orange-700", children: ["\uD83C\uDFC6 ", channelInfo.fullChannelData.tier.title] })), channelInfo.fullChannelData.hasVoiceInfo && (_jsx("span", { className: "px-2 py-1 text-xs rounded-full bg-green-100 text-green-700", children: "\uD83C\uDFA4 \u30DC\u30A4\u30B9\u767B\u9332\u6E08\u307F" })), channelInfo.fullChannelData.referralCode && (_jsxs("span", { className: "px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-700", children: ["\uD83D\uDD17 ", channelInfo.fullChannelData.referralCode] }))] }) })), channelInfo?.recentLive && (_jsxs("div", { className: "flex items-center gap-3 mb-1", children: [channelInfo.recentLive.imgUrl && (_jsx("img", { src: channelInfo.recentLive.imgUrl, alt: "LIVE\u30B5\u30E0\u30CD", className: "w-14 h-14 object-cover rounded-lg border" })), _jsxs("div", { children: [_jsxs("div", { className: "text-xs text-gray-500", children: ["\u6700\u7D42LIVE:", " ", new Date(channelInfo.recentLive.created).toLocaleString()] }), _jsx("div", { className: "text-sm font-semibold text-gray-700 truncate max-w-[200px]", title: channelInfo.recentLive.title, children: channelInfo.recentLive.title })] })] })), channelInfo?.socialLinks && channelInfo.socialLinks.length > 0 && (_jsxs("div", { className: "mt-3", children: [_jsx("div", { className: "text-xs font-bold text-purple-700 mb-2", children: "\uD83D\uDD17 \u30BD\u30FC\u30B7\u30E3\u30EB\u30EA\u30F3\u30AF:" }), _jsx("div", { className: "flex flex-wrap gap-2", children: channelInfo.socialLinks.map((link, i) => (_jsxs("a", { href: link.url, target: "_blank", rel: "noopener noreferrer", className: "text-xs bg-purple-100 hover:bg-purple-200 text-purple-700 px-2 py-1 rounded-full transition-colors", children: [link.type || 'ãƒªãƒ³ã‚¯', " ", link.title && `- ${link.title}`] }, i))) })] })), channelInfo?.topFans && channelInfo.topFans.length > 0 && (_jsxs("div", { className: "mt-3", children: [_jsx("div", { className: "text-xs font-bold text-pink-700 mb-2", children: "\uD83D\uDC51 \u30C8\u30C3\u30D7\u30D5\u30A1\u30F3:" }), _jsx("div", { className: "flex flex-wrap gap-2", children: channelInfo.topFans.slice(0, 5).map((fan, i) => (_jsxs("div", { className: "flex items-center gap-1 bg-pink-50 px-2 py-1 rounded-lg", children: [_jsx("img", { src: fan.profileUrl || '/default-avatar.png', alt: fan.nickname, className: "w-5 h-5 rounded-full object-cover" }), _jsx("span", { className: "text-xs text-pink-700", children: fan.nickname })] }, i))) })] })), channelInfo?.popularCasts && channelInfo.popularCasts.length > 0 && (_jsxs("div", { className: "mt-3", children: [_jsx("div", { className: "text-xs font-bold text-orange-700 mb-2", children: "\uD83D\uDD25 \u4EBA\u6C17\u30AD\u30E3\u30B9\u30C8:" }), _jsx("div", { className: "space-y-2", children: channelInfo.popularCasts.slice(0, 3).map((cast, i) => (_jsxs("div", { className: "flex items-center gap-3 bg-orange-50 p-2 rounded-lg", children: [cast.imgUrl && (_jsx("img", { src: cast.imgUrl, alt: cast.title, className: "w-12 h-12 rounded-lg object-cover" })), _jsxs("div", { className: "flex-1 min-w-0", children: [_jsx("div", { className: "text-xs font-semibold text-orange-800 truncate", children: cast.title }), cast.created && (_jsx("div", { className: "text-xs text-orange-600", children: new Date(cast.created).toLocaleString() })), cast.likeCount && (_jsxs("div", { className: "text-xs text-orange-600", children: ["\uD83D\uDC4D ", cast.likeCount] }))] })] }, i))) })] })), channelInfo?.recentPosts && channelInfo.recentPosts.length > 0 && (_jsxs("div", { className: "mt-3", children: [_jsx("div", { className: "text-xs font-bold text-green-700 mb-2", children: "\uD83D\uDCDD \u6700\u8FD1\u306E\u6295\u7A3F:" }), _jsx("div", { className: "space-y-2", children: channelInfo.recentPosts.slice(0, 3).map((post, i) => (_jsxs("div", { className: "bg-green-50 p-2 rounded-lg", children: [_jsx("div", { className: "text-xs text-green-800 line-clamp-2", children: post.content || post.text }), post.created && (_jsx("div", { className: "text-xs text-green-600 mt-1", children: new Date(post.created).toLocaleString() }))] }, i))) })] })), channelInfo?.allSchedules && channelInfo.allSchedules.length > 0 && (_jsxs("div", { className: "mt-2", children: [_jsx("div", { className: "text-xs font-bold text-blue-700 mb-1", children: "\u914D\u4FE1\u4E88\u5B9A\u4E00\u89A7:" }), _jsx("ul", { className: "text-xs text-blue-600 space-y-1", children: channelInfo.allSchedules.map((s, i) => (_jsxs("li", { children: [new Date(s.scheduleDate).toLocaleString(), " (", s.title, ")"] }, i))) })] }))] })] }));
}
